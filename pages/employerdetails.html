<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Job Details</title>
    <link rel="stylesheet" href="../css/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <nav class="navBar">
        <button class="menu-icon">
            <img src="../images/menu.png" alt="menu">
        </button>
        <ul class="menu-list">
            <li class="header" id="logo"><img src="../images/logo.png" alt=""></li>
            <li class="header"><a href="home.html">Home</a></li>
            <li class="header"><a href="aboutus.html">About Us</a></li>
            <li class="header"><a href="companies.html">Companies</a></li>
            <li class="header"><a href="candidates.html">Candidates</a></li>
        </ul>
        <div class="buttons">
            <a href="login.html">Log In</a>
            <a href="register.html">Register</a>
        </div>
    </nav>

    <div class="employer-container">
        <figure class="employer-img"><img src="" alt="Company Logo"><figcaption></figcaption></figure>
        <div class="container">
            <h3 class="name"></h3>
            <p class="manager"></p>
            <div class="details">
                <p></p>
                <p></p>
                <p></p>
            </div>
            <div class="details1">
                <p></p>
                <p></p>
            </div>
        </div>
    </div>

    <div class="employer-info">
        <div class="job-categories">
            <h2 class="jobs">JOB CATEGORY</h2>
            <ul></ul>
        </div>

        <div class="job-locations">
            <h2 class="jobs">JOB LOCATIONS</h2>
            <ul></ul>
        </div>

        <div class="requirements"></div>
    </div>

    <footer>
        <div class="footer-container">
            <div class="loremipsum">
                <h3>JOB PORTAL</h3>
                <p>Our platform brings together thousands of job seekers and employers every day. We focus on transparency, security, and an intuitive experience that helps you find the right job—or the right talent—faster than ever.</p>
            </div>
            <div class="links">
                <label for="quick-links">Quick Links</label>
                <ul>
                    <li><a href="home.html"> Home</a></li>
                    <li><a href="aboutus.html"> About Us </a></li>
                    <li><a href="companies.html"> Companies </a></li>
                    <li><a href="candidates.html"> Candidates </a></li>
                    <li><a href="view_all_jobs.html">Jobs</a></li>
                    <li><a href="#contactus"> Contact Us </a></li>
                </ul>
            </div>
            <div class="contacts">
                <p>Contact Us Here:</p>
                <p>(+383) 44 120 200</p>
                <p>St. Adem Jashari, Prishtina Kosovo</p>
                <ul id="contactus">
                    <li class="social"><a href="https://www.instagram.com"><img src="../images/instagram.png" width="30" height="30"></a></li>
                    <li class="social"><a href="https://www.facebook.com"><img src="../images/facebook.png" width="30" height="30"></a></li>
                    <li class="social"><a href="https://www.twitter.com"><img src="../images/twitter.png" width="30" height="30"></a></li>
                    <li class="social"><a href="https://www.gmail.com"><img src="../images/gmail.png" width="30" height="30"></a></li>
                </ul>
            </div>
        </div>
    </footer>
    <p class="cr">Copyright © 2023 find the job.</p>

    <script src="../js/data.js"></script>
    <script src="../js/script.js"></script>
    <script>
        const params = new URLSearchParams(window.location.search);
		const jobId = parseInt(params.get("id"));

		const job = jobsData.find(j => j.id === jobId);

	if (job) {	
    	document.querySelector(".name").textContent = job.company;
    	document.querySelector(".manager").textContent = job.title;
    	document.querySelector(".employer-img img").src = job.image;

    	const details = document.querySelectorAll(".details p");
    	details[0].textContent = job.location;
    	details[1].textContent = job.salary;
    	details[2].textContent = job.type;

    	const details1 = document.querySelectorAll(".details1 p");
    	const dynamicEmail = job.company.toLowerCase().replace(/ /g,"") + "@gmail.com";
    	details1[0].textContent = dynamicEmail;
    	details1[1].textContent = "Experience Required: 2+ Years";

    	document.querySelector(".job-categories ul").innerHTML = `<li>${job.title}</li>`;

    	const locParts = job.location.split(',');
    	const cityState = locParts.slice(-2).join(',').trim();
    	document.querySelector(".job-locations ul").innerHTML = `<li>${cityState}</li>`;

    	document.querySelector(".requirements").innerHTML = `
        	<h4 class="info">Information Required to Complete a Job Application</h4>
        	<p>${job.description}</p>
        	<p>Send your CV to: <a href="mailto:${dynamicEmail}">${dynamicEmail}</a></p>
    	`;
	} else {
    	document.body.innerHTML = "<h2>Job not found.</h2>";
	}
    </script>
</body>
</html>
